<head>
  <title>blueoakanban</title>
</head>

<body>
  <header>
    <div class="login">
      {{> loginButtons}}
    </div>
    <h1>Asana Kanban</h1>
  </header>
  <div>
    {{> settings}}
    {{> filters}}
    {{> dashboard}}
  </div>
</body>

<template name="settings">
  {{> settingsWorkspaces}}
</template>

<template name="settingsWorkspaces">
  {{#each workspaces}}
    <input type="checkbox" checked="{{checked}}" class="settings-workspaces" value="{{id}}" />{{ name }}<br />
  {{/each}}
</template>

<template name="dashboard">
  <ul>
    {{#each tasks}}
      {{> task}}
    {{/each}}
  </ul>
</template>

<template name="oauth">
  <p>Oauth goes here</p>
</template>

<template name="task">
  <li class="text">
    <div class="title">{{name}}</div>
    <div class="workspace">{{workspace.name}}</div>
    <div class="assignee">{{assignee.name}}</div>
    <div class="link"><a href="https://app.asana.com/0/{{workspace.id}}/{{id}}" target="_blank">link</a></div>
  </li>
</template>

<template name="filters">
  <select class="workspace-filter">
    <option value="">All</option>
    {{#each workspaces}}
      <option value="{{id}}">{{name}}</option>
    {{/each}}
  </select>
  <select class="sort-filter">
    <option value="">Default</option>
    <option value="modified_at">Newly updated</option>
    <option value="created_at">Newly created</option>
  </select>
  <select class="assignee-filter">
    <option value="">All</option>
    {{#each users}}
      <option value="{{id}}">{{name}}</option>
    {{/each}}
  </select>
</template>
